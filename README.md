hauteclaire is a project to produce a calendar of granbluefantasy calendar.
Multiple calendars is operating only in javascript.

Calendar will be there are the following.
  Various events carried out by the Daily.
  A new event that takes place each time.


hauteclaire(当リポジトリ)はグランブルーファンタジーのカレンダーを生成するプロジェクトです。
複数のカレンダーはjavascriptのみで動作しています。

カレンダーは以下が存在します。
  デイリーで行われる各種イベント
  都度行われる新しいイベント
  

※実際に動くものは以下に設置してあります
http://geane.web.fc2.com/



※日本の方向けの説明
スマートフォンにおけるゲームにおいて、デイリークエストなるイベントがあります。
これは日替わりで切り替わるイベントで、ある一定のルールに基づいて一連の（切り替わる）イベントがループします。
例を挙げましょう。

例1：曜日クエスト
  月曜日：月曜クエスト
  火曜日：火曜クエスト
  水曜日：水曜クエスト
  木曜日：木曜クエスト
  金曜日：金曜クエスト
  土曜日：土曜クエスト
  日曜日：日曜クエスト
  
例2：一定スパンのクエスト
  2016/04/22：一定スパンのクエスト1種類目
  2016/04/23：一定スパンのクエスト1種類目
  2016/04/24：一定スパンのクエスト2種類目
  2016/04/25：一定スパンのクエスト2種類目
  2016/04/26：一定スパンのクエスト3種類目
  2016/04/27：一定スパンのクエスト2種類目
  2016/04/28：一定スパンのクエスト1種類目
  -- ここでループが終わり最初に戻る -- 
  2016/04/29：一定スパンのクエスト1種類目
  2016/04/30：一定スパンのクエスト1種類目
  ...
  
例1においては、曜日とクエストがリンクしているため直感的に分かります。
しかしながら、例2においては日数が過ぎると直感的に把握できなくなってしまいます。
勿論、この一定スパンのクエストのスケジュールがゲーム開発会社の公式ページ
もしくはtwitter等SNSの公式アカウントからアナウンスされていれば良いですが
殆どそういったゲームは存在しません。
よって、それらを視覚によって直感的に把握できるカレンダーを作成するに至った訳です。

なお、現時点(2016/04/22)においては、グランブルーファンタジー(http://granbluefantasy.jp/  以下グラブルと略す)の
イベントについて取り扱っています。



/* ---------------------------------------------- */
/* ファイル構成：                                 */
/* ---------------------------------------------- */

site +----- bower_components             : npmで生成された必要なライブラリ
     +----- granblue_common.js           : javascriptにおける共通機能
     |
     +----- granblue_event_calendar.html : グラブルの通常イベント(都度開催もの)表示用html
     +----- granblue_event_calendar.css  : 上記のcss
     +----- granblue_event_calendar.js   : 上記のコントローラjs
     +----- granblue_event_data.json     : 上記のデータセット
     |
     +----- granblue_helo_calendar.html  : デイリーもしくは一定ルール(でのスパン)において開催されるイベント表示用html
     +----- granblue_helo_calendar.css   : 上記のcss
     +----- granblue_helo_calendar.js    : 上記のコントローラ
     
対象のサービスが増えてきたらディレクトリ等構造は変えるかも知れません。



/* ---------------------------------------------- */
/* 使用しているモジュール：                       */
/* ---------------------------------------------- */

  jQuery
  angular
  fullcalendar +---- moment
               +---- angular-ui-calendar
               +---- fullcalendar
               +---- gcal
               +---- bootstrap
               +---- bootstrap-tpls

ほぼイベントのスケジュールを生成するのがメインで、angular等の機能はちょっとしか使っていません。



/* ---------------------------------------------- */
/* 共通機能jsについて：                           */
/* ---------------------------------------------- */

以下が共通機能で定義されているオブジェクトの概要です。

hauteclaire +---- app (カレンダー共通機能)
            |      |
            |      +---- events (イベントデータ格納場所)
            |      +---- load (ネットワークからjsonを取得し格納する)
            |      +---- filter (app.eventsのデータをフィルタリングする)
            |      +---- config
            |              |
            |              +---- resources (ネットワーク上のリソース設定)
            |              +---- target (app.filterにして設定される条件）
            |              +---- calendar (fullcalendarのプロパティ)
            |
            +---- helo (エンジェルヘイロー用機能)
            |      |
            |      +---- groups (エンジェルヘイローの割り当てグループ)
            |      +---- timeline (1日をnで分割されたグループ)
            |      |        |
            |      |        +---- deviation (基準日から現在のイベントを取得)
            |      |
            |      +---- rule (エンジェルヘイローのローテーションルール)
            |      |        |
            |      |        +---- deviation (基準日から現在のイベントを取得)
            |      |
            |      +---- generate (イベントを生成する)
            |
            +---- subjugation (討滅戦用機能)
            |      |
            |      +---- pattern (討滅戦出現ルール)
            |      +---- deviation (基準日から現在のイベントを取得)
            |      +---- generate (イベントを生成する)
            |
            +---- ordeal (各種試練用機能)
                   |
                   +---- pattern (各種試練出現ルール)
                   +---- deviation (基準日から現在のイベントを取得)
                   +---- generate (イベントを生成する)

各種機能は、複数の機能を様々な条件で組み合わせたカレンダーのインスタンス(html)を
生成することが考えられますので、共通機能に入れています。



